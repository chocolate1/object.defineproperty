<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>object.defineproperty实例一</title>
</head>
<body>
    <div id="test">这是一个测试</div>
    <script>
        // 测试三
        var o={};//创建一个新对象
        Object.defineProperty(o,"a",{
            //该属性对应的值。可以是任何有效的 JavaScript 值（数值，对象，函数等）。默认为 undefined
            value:37,
            // 仅当仅当该属性的writable为 true 时，该属性才能被赋值运算符改变。默认为 false
            writable:true,
            //仅当该属性的 enumerable 为 true 时，该属性才能够出现在对象的枚举属性中。默认为 false
            enumerable:true,
            // 仅当该属性的 configurable 为 true 时，该属性才能够被改变，也能够被删除。默认为 false
            configurable:true
        });
            // 对象o拥有了属性a，值为37

           var bValue;
        Object.defineProperty(o,"b",{
            get:function () { return bValue; },
            set:function (v) { bValue=v; },
            enumerable:true,
            configurable:true
        });
        o.b=45;
// 测试二
        // var view = document.getElementById('test');
        // var data = {};
        // console.log(data)
        // console.log(Object.prototype)
        // console.log(Object.defineProperty)
        // var i = 0;
        // Object.defineProperty(data,"b",{
        //     set:function(newvalue){
        //         //当data的值改变的时候更新#test的视图
        //         view.textContent = newvalue;
        //     },
        //     get:function(){
        //     }
        // });
        // setInterval(function(){
        //     i++;
        //     data["b"] = "data.b的值更新了，我要更新视图"+i;
        // },1000);
        // console.log(data.b)
// 测试一
        // var a = {};
        // Object.defineProperty(a,"b",{
        //     set:function(newvalue){
        //         console.log('你要赋值给我，我是新值是'+newvalue);
        //     },
        //     get:function(newvalue){
        //         console.log('你取我的值');
        //         return 2;//我硬让他返回2
        //     }
        // });
        // a.b = 1;//你要赋值给我，我的新值是1
        // a.b;//你取我的值
        // console.log(a.b)
    </script>
</body>
</html>